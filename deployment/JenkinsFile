pipeline {
    agent none
    stages {
        stage('Build') {
            agent any
            steps{
                echo "Building R3APP"
                echo "CURRENT WORKSPACE       ::: ${WORKSPACE}"

                sh "chmod +x ./deployment/buildapp/build-app.sh"
                sh "./deployment/buildapp/build-app.sh"
            }
        }
        stage('Local Docker Deploy') {
            agent any
            steps{
                input(message: 'Deploy to docker', ok : 'Deploy')
                sh "chmod +x ./deployment/buildapp/docker-local-deploy.sh"
                sh "./deployment/buildapp/docker-local-deploy.sh"

            }
        }
        stage('Production Deploy') {
            steps{
                echo 'Deploying Production R3APP'
            }
        }

    }
}